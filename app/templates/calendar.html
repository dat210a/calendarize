{% extends 'nav_user.html' %}

{% block content %}
    <link href="static/css/calendar.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <div id="preloader">
        <div class="body_valign center">
            <div class="preloader-wrapper big active body_valign">
                <div class="spinner-layer spinner-blue-only">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div><div class="gap-patch">
                        <div class="circle"></div>
                    </div><div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="timelineScreen col m12 l9" style="position: relative; padding: 0px;">
        <div class="calendarContainer">
            <!-- options button for small screens-->
            <div class="fixed-action-btn horizontal hide-on-large-only", style="position: absolute; height: 0; display: inline-block; right: 15px; top: 15px;">
                <a class="waves-effect waves-light btn-floating btn-large accentgrey-dark" onclick="Materialize.toast('Not yet implemented', 4000)">
                    <i class="large material-icons">menu</i>
                </a>
            </div>
            <!-- main calendar -->
            <svg class="calendarMain">
                <defs>
                    <filter id="dropshadow" x="-100%" y="-100%" width="200%" height="200%" filterUnits="userSpaceOnUse">
                        <feGaussianBlur in="SourceAlpha" stdDeviation="2"/> <!-- stdDeviation is how much to blur -->
                        <feOffset dx="1.5" dy="1.5" result="offsetblur"/> 
                        <!-- <feOffset dx="-5" dy="-5" result="offsetblur"/> -->
                        <feMerge> 
                            <feMergeNode/>
                            <feMergeNode in="SourceGraphic"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
            </svg>
            <!-- toolbar -->
            <div class="calendarToolbox">
                <!-- FAB -->
                <div class="fixed-action-btn horizontal mainAddButtonContainer">
                    <a class="btn-floating btn-large accentgrey-dark">
                        <i class="large material-icons">add</i>
                    </a>
                <ul>
                    <li><a id="resetToToday" class="waves-effect waves-light btn-floating blue tooltipped" data-position="top" data-delay="50" data-tooltip="Today"><i class="material-icons">center_focus_strong</i></a></li>
                    <!-- <li><a id="addUsers" class="waves-effect waves-light btn-floating green"><i class="material-icons">group_add</i></a></li> -->
                    <li><a id="addCalendarForm" class="waves-effect waves-light btn-floating yellow darken-1 tooltipped" data-position="top" data-delay="50" data-tooltip="New calendar"><i class="material-icons">insert_invitation</i></a></li>
                    <li><a id='addEventForm' class="waves-effect waves-light btn-floating red tooltipped" data-position="top" data-delay="50" data-tooltip="New event"><i class="material-icons">playlist_add</i></a>
                    </li>
                </ul>
            </div>
            <!-- show/hide groups -->
            <div class="center upDown">
                <a class="waves-effect waves-light btn accentgrey-dark toggleGroupVisibility">
                        <i class="large material-icons left toggleArrow">arrow_drop_down</i>
                        groups
                    </a>
            </div>
            <!-- zoom -->
            <div class="zoomSlider" id="slidecontainer" style="position: absolute; display: inline-block; left: 50px; bottom: 10px; width: 25%">
                <p class="range-field">
                    <input type="range" id="zoomSlider" min="1" max="12" step="0.01" />
                </p>
            </div>
            <div class="tollbarPadding" , style="position: absolute; bottom: 0px; width: 100%; height: 5px; background-color:rgba(0,0,0,0.2); border-top: 1px solid black">
            </div>
        </div>
    </div>
</div>
<!-- 
        sidebar
 -->
<div class="col m3 hide-on-med-and-down z-depth-3 overflow fwheader" id="sidebar">
    <!--  
        Display event
 -->
    <div class="event_details_container" id="eventDisplay">
        <div class="row z-depth-1 eventdetailsfixedheader">
            <div class=" col s12">
                <h4 class="left-align grey-text text-lighten-5 eventName">Nan</h4>
                <span class="grey-text text-lighten-3" id="event_owner">Created by: Person X</span>
            </div>
        </div>
        <a class="btn-floating btn-large waves-effect waves-light right eventdetailsheaderBtn" id="editEvent"><i class="material-icons">edit</i></a>
        <div style="padding-top: 7em">
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Group</strong></span>
                    <br>
                    <span class="eventGroup">NaN</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Date</strong></span>
                    <br>
                    <span>From: </span><span class="eventDateStart">Nan</span>
                    <br>
                    <span> To: </span><span class="eventDateEnd"></span>
                    <br>
                    <span class="sub">Recurring: </span><span class="sub eventRecur">NaN</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Location</strong></span>
                    <br>
                    <span>TBD</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Notifications</strong></span>
                    <br>
                    <span>TBD</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Members</strong></span>
                    <div class="row">
                        <div class="col s5" style="padding:0">
                            <ul>
                                <li>TBD</li>
                                <li>TBD</li>
                                <li>TBD</li>
                                <li><a href="#">See more</a></li>
                            </ul>
                        </div>
                        <div class="col 5">
                            <ul>
                                <li>TBD</li>
                                <li>TBD</li>
                                <li>TBD</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Notes</strong></span>
                    <br>
                    <span id="event_notes"></span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Attachments</strong></span>
                    <br>
                    <div  id="eventFiles"></div>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <a id="delete_event" class="waves-effect red darken-2 waves-red accentgrey-light-text btn-flat">Delete event</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 
        Display calendar
     -->
    <div class="calendar_details_container" id="calendarDisplay">
        <div class="row z-depth-1 calendardetailsfixedheader">
            <div class=" col s12">
                <h4 class="left-align grey-text text-lighten-5 calendarName">Nan</h4>
                <span class="grey-text text-lighten-3">Created by: Person X</span>
            </div>
        </div>
        <a class="btn-floating btn-large waves-effect waves-light right calendardetailsheaderBtn"><i class="material-icons">edit</i></a>
        <div style="padding-top: 7em">
            <div class="row">
                <div class="col s6">
                    <span><strong>Syncronize</strong></span>
                </div>
                <div class="col s6">
                    <div class="switch">
                        <label>
                            <input type="checkbox">
                            <span class="lever"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Notifications</strong></span>
                    <br>
                    <span>1 week in advance</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Accessibility</strong></span>
                    <br>
                    <span>Invite only</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Members</strong></span>
                    <div class="row">
                        <div class="col s5" style="padding:0">
                            <ul>
                                <li>Person 1</li>
                                <li>Person 2</li>
                                <li>Person 3</li>
                                <li><a href="">See more</a></li>
                            </ul>
                        </div>
                        <div class="col 5">
                            <ul>
                                <li>Person 1</li>
                                <li>Person 2</li>
                                <li>Person 3</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <a id="delete_calendar" class="waves-effect red darken-2 waves-red accentgrey-light-text btn-flat">Delete group</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 
        Add calendar
 -->
    <div class="add_calendar_container" id="calendarForm">
        <form class="addCalendar" id="addCalendar">
            <div class="row neweventfixedheader accentgrey-dark z-depth-1">
                <div class="col s12">
                    <h4 class="left-align grey-text text-lighten-5">New calendar</h4>
                </div>
            </div>
            <button id="btnNewCalendar" type="submit" class="btn-floating btn-large waves-effect waves-light right neweventheaderBtn accentgrey-dark"><i class="material-icons">done</i></button>
            <div style="padding-top: 5em">
                <div class="row">
                    <div class="col s12 input-field">
                        <input value="Group name" id="newCalendarName" name="newCalendarName" type="text" required>
                        <label for="newCalendarName">Name of group</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2 input-field">
                        <input value="0" id="first_name2" type="text" class="center">
                        <label>Notification</label>
                    </div>
                    <div class="col s10 input-field">
                        <select>
                            <option value="1">None</option>
                            <option value="2">Minutes in advance</option>
                            <option value="3">Hours in advance</option>
                            <option value="4">Days in advance</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <select multiple>
                            <option value="1">Person 1</option>
                            <option value="2">Person 2</option>
                            <option value="3">Person 3</option>
                        </select>
                        <label>Add Members</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <select>
                            <option value="1">Everyone</option>
                            <option value="2">Users only</option>
                            <option value="3">Invite only</option>
                            <option value="4">Private</option>
                        </select>
                        <label>Accessibility</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <select>
                            <option value="1">Red</option>
                            <option value="2">Blue</option>
                            <option value="3">Purple</option>
                            <option value="4">Yellow</option>
                        </select>
                        <label>Color</label>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- 
        Edit calendar
 -->
    <div class="edit_calendar_container" id="editCalendarForm">
        <form class="editCalendar" id="editCalendar">
            <div class="row neweventfixedheader accentgrey-dark z-depth-1">
                <div class="col s12">
                    <h4 class="left-align grey-text text-lighten-5">Edit calendar</h4>
                </div>
            </div>
            <button id="btnEditCalendar" type="submit" class="btn-floating btn-large waves-effect waves-light right neweventheaderBtn accentgrey-dark"><i class="material-icons">done</i></button>
            <div style="padding-top: 5em">
                <div class="row">
                    <div class="col s12 input-field">
                        <input placeholder="Group name" id="editCalendarName" name="editCalendarName" type="text" required>
                        <label for="editCalendarName">Name of group</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2 input-field">
                        <input value="0" id="first_name2" type="text" class="center">
                        <label>Notification</label>
                    </div>
                    <div class="col s10 input-field">
                        <select>
                            <option value="1">None</option>
                            <option value="2">Minutes in advance</option>
                            <option value="3">Hours in advance</option>
                            <option value="4">Days in advance</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <select multiple>
                            <option value="1">Person 1</option>
                            <option value="2">Person 2</option>
                            <option value="3">Person 3</option>
                        </select>
                        <label>Add Members</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <select>
                            <option value="1">Everyone</option>
                            <option value="2">Users only</option>
                            <option value="3">Invite only</option>
                            <option value="4">Private</option>
                        </select>
                        <label>Accessibility</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <select>
                            <option value="1">Red</option>
                            <option value="2">Blue</option>
                            <option value="3">Purple</option>
                            <option value="4">Yellow</option>
                        </select>
                        <label>Color</label>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- 
        Add event
 -->
    <!-- 
        Edit event
 -->
    <div class="edit_event_container" id="editEventForm">
        <form class="editEvent" id="editEvent">
            <div class="row neweventfixedheader accentgrey-dark z-depth-1">
                <div class="col s12">
                    <h4 class="left-align grey-text text-lighten-5">Edit event</h4>
                </div>
            </div>
            <button id="btnEditEvent" type="submit" class="btn-floating btn-large waves-effect waves-light right neweventheaderBtn accentgrey-dark"><i class="material-icons">done</i></button>
            <div style="padding-top: 5em">
                <div class="row">
                    <div class="col s12 input-field">
                        <input id="editEventName" Name="editEventName" type="text" class="" required>
                        <label for="editEventName">Name of event</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <select id="calendarID" Name="calendarID">
                        </select>
                        <label>Calendar</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <label for="startDate">Start date</label>
                        <input id="startDate" Name="startDate" type="text" class="datepicker">
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <label for="endDate">End date</label>
                        <input id="endDate" Name="endDate" type="text" class="datepicker" placeholder="Optional">
                    </div>
                </div>
                <div class="row">
                    <div class="col s4">
                        <input type="checkbox" id="repeatEvent" name="recurring" />
                        <label for="repeatEvent">Recurring</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 input-field">
                        <input placeholder="Optional" id="first_name2" type="text">
                        <label class="active" for="first_name2">Location</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s2 input-field">
                        <input value="0" id="first_name2" type="text" class="center">
                        <label>Notification</label>
                    </div>
                    <div class="col s10 input-field">
                        <select>
                            <option value="1">None</option>
                            <option value="2">Minutes in advance</option>
                            <option value="3">Hours in advance</option>
                            <option value="4">Days in advance</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <select multiple>
                            <option value="1">Person 1</option>
                            <option value="2">Person 2</option>
                            <option value="3">Person 3</option>
                        </select>
                        <label>Add Members</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <select multiple>
                            <option value="1">Person 1</option>
                            <option value="2">Person 2</option>
                            <option value="3">Person 3</option>
                        </select>
                        <label>Delete Members</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="textarea1" class="materialize-textarea"></textarea>
                        <label for="textarea1">Notes</label>
                    </div>
                </div>
                <div class="row">
                    <div class="file-field input-field col s12">
                        <div class="btn">
                            <span>File</span>
                            <input type="file" name="file" multiple>
                        </div>
                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text" placeholder="Upload one or more files">
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- 
        Display profile
     -->
    <div class="profile_details_container" id="profileDisplay">
        <div class="row z-depth-1 profileheaderimg">
            <div class="col s12">
                <img src="http://via.placeholder.com/75x75" class="profileimg circle">
            </div>
            <div class=" col s12">
                <h4 class="left-align grey-text text-lighten-5">Name User</h4>
                <span class="grey-text text-lighten-3">email@email.com</span>
            </div>
        </div>
        <button class="btn-floating btn-large waves-effect waves-light right profiledetailsheaderBtn accentgrey-dark"><i class="material-icons">edit</i></button>
        <div class="profilepaddingfix">
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Username</strong></span>
                    <br>
                    <span>{{name}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <span class="infotitle"><strong>Name</strong></span>
                    <br>
                    <span>Full Name Display</span>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <a id="delete_account" href="/delete_user" class="waves-effect red darken-2 waves-red accentgrey-light-text btn-flat">Delete account</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- TODO make a bundle -->
<script src="/static/js/lib/d3.min.js"></script>
<script src="/static/js/timeline/DisplayCalendar.js"></script>
<script src="/static/js/timeline/navigation_buttons.js"></script>
<script src="/static/js/timeline/SubbedGroups.js"></script>
<script src="/static/js/timeline/simulation.js"></script>
<script src="/static/js/display_event_details.js"></script>
<script src="/static/js/timeline/DisplayData.js"></script>
<script src="/static/js/timeline/zoom_and_scroll.js"></script>
<script src="/static/js/timeline/resize_timeline.js"></script>
<script src="/static/js/side_forms.js"></script>
<script src="/static/js/init.js"></script>
{% endblock %}